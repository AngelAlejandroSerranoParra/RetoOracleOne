<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desencriptador</title>
    <link rel="stylesheet" href="reset.css">  

    <link rel="stylesheet" href="style.css">
</head>

    
    <body class="col-12 col-s-12">
        <header class="col-12 col-s-12">
            <img src="Imagenes/Logo.png">
        </header>

        
            <div class="col-2 col-s-17 ContIn ContInT ContC col-sc-4">
                <img src="Imagenes/Ingrese el texto aqui.png" class="ita col-18 col-s-13 itaT col-sc-20 itaC " id="itxa">
                <textarea maxlength="200" id="inputext" rows="4" cols="50" type="text" class="Input1 col-14 col-s-14 Input1T Input1C col-sc-21"></textarea>
                <p id="resultado"></p>
            </div>

            <div class="Frame3 col-7 col-s-7 Frame3T Frame3C col-sc-12">
                <h2 class="col-5 SMA col-s-8 SMAT col-sc-8 SMAC">Solo letras Minusculas y sin acentos</h2>
                <button id="DNR" onclick="encR()" class="buttonE col-15 col-s-18 buttonET buttonEC col-sc-5"><h1 class="Frame3txt1">Encriptar</h1></button>
                <button id="ENC" onclick="dsenC()" class="buttonD col-15 col-s-18 buttonDT buttonDC col-sc-5"><h1 class="Frame3txt2">Desencriptar</h1></button>
            </div>

            <div class="contenedor3 col-6 col-s-7 col-sc-7">
                <div class="imgCont col-17 col-s-19 imgContT col-sc-10 imgContC" id="ImgContl" >
                    <textarea readonly class="TextContOut col-2 col-s-18 col-sc-9 TextContOutT TextContOutC" id="outputext"></textarea>    
                    <h1 id="TextTi" class="nmensaje col-2 col-s-5 nmensajeT nmensajeC col-sc-8">Ningun Mensaje
                            fue encontrado
                    </h1>
                    <h1  id="TextTi2" class="nmensaje2 col-2 col-s-5 nmensaje2T nmensaje2C col-sc-8">
                        Ingresa El texto que deseas encriptar
                        o desencriptaar.
                    </h1>
                <img src="Imagenes/Muñeco.png" class="Imuñeco col-2 ImuñecoT ImuñecoC" id="Imuñecoo"> 
                <button id="BTC" class="buttonC buttonCT buttonCC col-9 col-s-12 col-sc-11"><h1 class="Hc HcT HcC col-12 col-s-12 col-sc-12">Copiar</h1></button> 
            </div>
                         
            </div>
        </div>

 
            <script>
                
                const InText=document.getElementById("inputext")
                const ImgTX=document.getElementById("itxa")
                const outputTextArea = document.getElementById("outputext");
                const image2 = document.getElementById("Imuñecoo");
                const dsctr=document.getElementById("DNR")
                const ECRTR=document.getElementById("ENC")
                const NM=document.getElementById("TextTi")
                const IET=document.getElementById("TextTi2")
                const CiM=document.getElementById("ImgContl")
                const BUTC=document.getElementById("BTC")
                
                
                



               /////No ingresar Acentos y Mayusculas/////

            InText.addEventListener("input", function() {
                const texto = InText.value;
                const textoModificado = texto.toLowerCase()
                                                .normalize('NFD')
                                                .replace(/[\u0300-\u036f]/g, '');
                InText.value = textoModificado;
                });



                ///Funciones y diccionario para se desencriptar y encriptar  el mensaje/////
   
                



                function encR() {
                
                let ecriptado = InText.value
                    .replace(/e/g, "enter")
                    .replace(/i/g, "imes")
                    .replace(/a/g, "ai")
                    .replace(/o/g, "ober")
                    .replace(/u/g, "ufat");

                outputTextArea.value = ecriptado;
                }

                function dsenC(){
                    let dcriptado=InText.value
                    .replace(/enter/g, "e")
                    .replace(/imes/g, "i")
                    .replace(/ai/g, "a")
                    .replace(/ober/g, "o")
                    .replace(/ufat/g, "u");

                    outputTextArea.value = dcriptado;
                }


           
            let BTCC = document.getElementById("BTC");
                    BTCC.style.display = "none";
            


                ////Desencriptador 1090///////
                if (window.innerWidth <= 1099) {
                let bandera = false;

                ECRTR.addEventListener('click', function() {
                    let textareaValue = InText.value.trim();
                    
                    // Obtener el contenido del textarea de entrada
                    const contenido = InText.value;

                    // Verificar que el contenido del textarea de entrada no esté vacío antes de agregarlo al textarea de salida y actualizar el tamaño del div de salida y del textarea de salida
                    if (contenido.trim() !== '') {
                        // Agregar el contenido al textarea de salida

                        // Actualizar los tamaños del espacio si la bandera es falsa
                        if (!bandera) {
                            CiM.style.height = (CiM.scrollHeight + 70) + 'px';
                            outputTextArea.style.height = (outputTextArea.scrollHeight + 40) + 'px';
                            bandera = true;
                        }

                        // Mostrar los elementos que deseas
                        image2.style.display = "none";
                        NM.style.display = 'none';
                        IET.style.display = 'none';
                        let BTCC = document.getElementById('BTC');
                        BTCC.style.display = 'block';
                    }
                });

                InText.addEventListener('keyup', function() {
                    // Si el contenido del textarea de entrada está vacío, establecer la bandera en falsa y la altura del div de salida y del textarea de salida en su valor inicial, y borrar el contenido del textarea de salida
                    if (InText.value === '') {
                        bandera = false;
                        CiM.style.height = '140px';
                        outputTextArea.style.height = '80px';

                        // Mostrar los elementos que deseas
                        image2.style.display = "none";
                        NM.style.display = 'block';
                        IET.style.display = 'block';
                        let BTCC = document.getElementById('BTC');
                        BTCC.style.display = 'none';
                    }
                });
            }

                
                ////Encriptador 1099////
                if (window.innerWidth <= 1099) {
                let bandera2 = false;

                dsctr.addEventListener('click', function() {
                    let textareaValue = InText.value.trim();
                    
                    // Obtener el contenido del textarea de entrada
                    const contenido = InText.value;

                    // Verificar que el contenido del textarea de entrada no esté vacío antes de agregarlo al textarea de salida y actualizar el tamaño del div de salida y del textarea de salida
                    if (contenido.trim() !== '') {
                        // Agregar el contenido al textarea de salida

                        // Actualizar los tamaños del espacio si la bandera es falsa
                        if (!bandera2) {
                            CiM.style.height = (CiM.scrollHeight + 70) + 'px';
                            outputTextArea.style.height = (outputTextArea.scrollHeight + 40) + 'px';
                            bandera2 = true;
                        }

                        // Mostrar los elementos que deseas
                        image2.style.display = "none";
                        NM.style.display = 'none';
                        IET.style.display = 'none';
                        let BTCC = document.getElementById('BTC');
                        BTCC.style.display = 'block';
                    }
                });

                InText.addEventListener('keyup', function() {
                    // Si el contenido del textarea de entrada está vacío, establecer la bandera en falsa y la altura del div de salida y del textarea de salida en su valor inicial, y borrar el contenido del textarea de salida
                    if (InText.value === '') {
                        bandera2 = false;
                        CiM.style.height = '140px';
                        outputTextArea.style.height = '80px';

                        // Mostrar los elementos que deseas
                        image2.style.display = "none";
                        NM.style.display = 'block';
                        IET.style.display = 'block';
                        let BTCC = document.getElementById('BTC');
                        BTCC.style.display = 'none';
                    }
                });
            }


                
            //////Desencriptador 1100//////
            if (window.innerWidth >=1100){
                ECRTR.addEventListener('click', () => {
                    let textareaValue = InText.value.trim();
                    if (textareaValue === "") {
                        
                        return;
                    }
                    
                    image2.style.display = "none";
                    NM.style.display = "none";
                    IET.style.display = "none";
                    


                    let BTCC = document.getElementById("BTC");
                    BTCC.style.display = "block";

                    
                    


                });
            }


            ////Encriptador/////
            if (window.innerWidth >=1100){
                dsctr.addEventListener("click", () => {
                    let textareaValue = InText.value.trim();
                    if (textareaValue === "") {
                        return;
                    }
                    
                    image2.style.display = "none";
                    NM.style.display = "none";
                    IET.style.display = "none";

                    let BTCC = document.getElementById("BTC");
                    BTCC.style.display = "block";
                    

                });
            }




                ///Desaparecce imagen de itxa al dar click en imagen///
                ImgTX.addEventListener("click",()=> {
                    ImgTX.style.display = "none";
                 
                    InText.focus();
                    

                });

                ///Desaparedce imagen al dar click en inputext//////
                
                InText.addEventListener("click", () => {
                    ImgTX.style.display = "none";
                    
                    
                });

                ///Para que si en caso de que se selecione el textarea input se pique fuera del text y aparezca de nuevo la imagen//
                
                InText.addEventListener("blur", () => {
                    if (InText.value.trim() === "") {
                        ImgTX.style.display = "block";
                    
                    }
                    });

                ///Se borrea el Output text Cuando el Intext Esta vacio en tiempo real//////
                InText.addEventListener("input", () => {
                    if (InText.value.trim() === "") {
                        outputTextArea.value = "";
                    }
                    
                    });  

                ///Cuando se borre el contenido de Inputext reapareza contenido el rectangulo////
                
                if (window.innerWidth <=1100){
                InText.addEventListener("input", () => {
                    ImgTX.style.display = "none";
                   
                    
                    if (InText.value.trim() === "") {
                        outputTextArea.textContent = "";
                        NM.style.display="block";
                        IET.style.display="block";
                        image2.style.display="none";
                        VBC.style.display = "none";

                        let BTCC = document.getElementById("BTC");
                        BTCC.style.display = "none";
                    
                        
                    }
                });
            }

            if (window.innerWidth >=1099){
                InText.addEventListener("input", () => {
                    ImgTX.style.display = "none";
                    
                    
                    if (InText.value.trim() === "") {
                        outputTextArea.textContent = "";
                        NM.style.display="block";
                        IET.style.display="block";
                        image2.style.display="block"

                        let BTCC = document.getElementById("BTC");
                        BTCC.style.display = "none";
                        
                  
                    }
                });
            }
            //////Boton de funcion para copiar////////
            const CRB = document.getElementById("BTC");
            const TXTOU = document.getElementById("outputext");

                CRB.addEventListener("click", () => {
                
                const contenido = TXTOU.value;

                
                const tempEl = document.createElement("textarea");
                tempEl.value = contenido;

                
                document.body.appendChild(tempEl);

                
                tempEl.select();

                document.execCommand("copy");

                document.body.removeChild(tempEl);

                
                });


         

   

            </script>


    </body>



</html>